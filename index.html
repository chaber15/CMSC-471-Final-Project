<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Final Project Mockup</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body>
    <div class="title">
      <h1>Final Project Mockup: Fourth and Forecast</h1>
      <h3>Caleb Haber, Caleb Holland, Benjamin Johnson</h3>
      <button id="toggleModelExplanation">Random Forest Explanation</button>
    </div>

    <div class="sliders">
      <div class="selector">
        <h3>Number of Trees</h3>
        <input
          type="range"
          id="yearSlider"
          min="1"
          max="10"
          step="1"
          list="tickmarks"
          class="slider"
        />
        <datalist id="tickmarks">
          <option value="1" label="1"></option>
          <option value="2" label="2"></option>
          <option value="3" label="3"></option>
          <option value="4" label="4"></option>
          <option value="5" label="5"></option>
          <option value="6" label="6"></option>
          <option value="7" label="7"></option>
          <option value="8" label="8"></option>
          <option value="9" label="9"></option>
          <option value="10" label="10"></option>
        </datalist>
      </div>

      <div class="selector">
        <h3>Depth</h3>
        <input
          type="range"
          id="depthSlider"
          min="2"
          max="7"
          step="1"
          list="tickmarks"
          class="slider"
        />
        <datalist id="tickmarks">
          <option value="2" label="2"></option>
          <option value="3" label="3"></option>
          <option value="4" label="4"></option>
          <option value="5" label="5"></option>
          <option value="6" label="6"></option>
          <option value="7" label="7"></option>
        </datalist>
      </div>

      <button id="train" class="trainBtn" type="submit">Train</button>
      <div class="selector">
        <h3>Test a Game</h3>
        <select id="gameSelector" class="dropdown">
          <!-- Options will be populated by JS -->
        </select>
      </div>
      <button id="test" class="trainBtn">Test</button>
      <button id="toggleTrainingExplanation">?</button>
      
    </div>

    <div class="split">
      <div class="container">
        <div class="row">
          <div class="row2">
            <button id="toggleExplanation">?</button>
          </div>
          <div id="accuracy">
           
          </div>

          <div id="controls">
            <button id="backBtn">‚üµ Back</button>
            <button id="nextBtn">Next ‚ü∂</button>
          </div>
        </div>
        <div class="row">

          <div class="row2">
              <div id="legend"></div>
          </div>
        </div>

        <div class="visRow">
          <div class="descCol">
            <h3>üå≥ How Are Trees Trained?</h3>
            <p>
              Each decision tree in a random forest is trained by breaking the data into smaller and smaller pieces. 
              At each step, the tree decides which question (or ‚Äúsplit‚Äù) best divides the data.
            </p>
            <p>
              To make that decision, it uses a concept called <strong>entropy</strong>, which measures the amount of disorder or uncertainty. 
              A good split is one that reduces entropy ‚Äî in other words, it creates groups where the data is more ‚Äúpure‚Äù 
              (where most of the examples in a group belong to the same class).
            </p>
            <p>
              The tree continues splitting the data until it reaches a stopping point, such as a maximum depth, a minimum number of samples, 
              or when the groups are already pure.
            </p>

            <h3>üß† How Predictions Work</h3>
            <p>
              Once trained, each decision tree makes a prediction by following a series of questions down the tree. 
              This is like tracing a path through a flowchart based on the input features. 
              When the path ends at a <strong>leaf node</strong>, the tree returns a prediction ‚Äî for example, "Home win" or "Away win".
            </p>
            <p>
              In a random forest, all the trees make their predictions independently. Then the forest combines them using a 
              <strong>majority vote</strong> (for classification tasks) or an <strong>average</strong> (for regression tasks). 
              The final prediction is the result of this collective decision.
            </p>
          </div>
          <div class="visCol">
            <div
              id="vis"
              style="display: flex; flex-wrap: wrap; gap: 2rem"
            ></div>
          </div>
        </div>
      </div>

      <div id="forestSummary"></div>
    </div>

    <!-- Load D3.js -->
    <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.2.6"></script>
    <script src="https://d3js.org/d3.v7.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>
